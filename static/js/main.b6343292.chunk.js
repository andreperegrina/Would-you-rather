(this["webpackJsonpwould-you-rather"]=this["webpackJsonpwould-you-rather"]||[]).push([[0],{202:function(e,t,a){e.exports=a(347)},207:function(e,t,a){},212:function(e,t,a){},214:function(e,t,a){},330:function(e,t,a){},331:function(e,t,a){},334:function(e,t,a){},347:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(43),c=a.n(o),i=(a(207),a(27)),s=a(28),u=a(30),l=a(29),d=a(20),m=a(49),h=a(18),p=(a(212),a(26)),b=a.n(p),f=a(45),v=a(19),E=a(6),O={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://react.semantic-ui.com/images/avatar/large/jenny.jpg",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://react.semantic-ui.com/images/avatar/large/elliot.jpg",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://react.semantic-ui.com/images/avatar/large/daniel.jpg",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},j={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function g(e){return new Promise((function(t,a){var n=e.author,r=function(e){var t=e.optionOneText,a=e.optionTwoText,n=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:n,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:a}}}(e);setTimeout((function(){j=Object(E.a)(Object(E.a)({},j),{},Object(v.a)({},r.id,r)),O=Object(E.a)(Object(E.a)({},O),{},Object(v.a)({},n,Object(E.a)(Object(E.a)({},O[n]),{},{questions:O[n].questions.concat([r.id])}))),t(r)}),1e3)}))}function w(e){var t=e.authedUser,a=e.qid,n=e.answer;return new Promise((function(e,r){setTimeout((function(){O=Object(E.a)(Object(E.a)({},O),{},Object(v.a)({},t,Object(E.a)(Object(E.a)({},O[t]),{},{answers:Object(E.a)(Object(E.a)({},O[t].answers),{},Object(v.a)({},a,n))}))),j=Object(E.a)(Object(E.a)({},j),{},Object(v.a)({},a,Object(E.a)(Object(E.a)({},j[a]),{},Object(v.a)({},n,Object(E.a)(Object(E.a)({},j[a][n]),{},{votes:j[a][n].votes.concat([t])}))))),e()}),500)}))}var S=function(e){return{type:"LOAD_USERS_SUCCESS",response:e}},y=function(){return function(){var e=Object(f.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"IS_FETCHING_USERS",response:!0}),e.next=3,new Promise((function(e,t){setTimeout((function(){return e(Object(E.a)({},O))}),1e3)}));case 3:a=e.sent,t(S(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=a(366),x=a(363),T=a(365),k=a(349),A=(a(214),function(e){return{type:"AUTHENTICATED",response:{id:e}}}),U=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(A(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(){return function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOG_OUT"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={userId:void 0},e.handleUserChange=function(t,a){return e.setState({userId:a.value})},e.handleClickSignIn=function(){var t=e.state.userId;if(e.props.users[t]){e.props.authenticate(t);var a=e.props.location;a.state&&a.state.from&&e.props.history.push(a.state.from)}},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.users,t=Object.keys(e).map((function(t){return{key:e[t].id,value:e[t].id,text:e[t].name,image:{avatar:!0,src:e[t].avatarURL}}}));return r.a.createElement("div",{className:"Login"},r.a.createElement(C.a,null,r.a.createElement(C.a.Content,null,r.a.createElement(C.a.Header,null,"Welcome to the Would You Rather App"),r.a.createElement(C.a.Meta,null,r.a.createElement("span",{className:"date"},"Please sign in to continue"))),r.a.createElement(C.a.Content,null,r.a.createElement(x.a,null,r.a.createElement("label",null,"Select your username:"),r.a.createElement(T.a,{placeholder:"Select Friend",fluid:!0,selection:!0,options:t,onChange:this.handleUserChange}))),r.a.createElement(C.a.Content,{extra:!0},r.a.createElement(k.a,{fluid:!0,onClick:this.handleClickSignIn},"Sign in"))))}}]),a}(n.Component),I=Object(d.b)((function(e){return{users:e.users.data}}),(function(e){return{authenticate:function(t){return e(U(t))}}}))(q),N=a(96),F=Object(d.b)((function(e){return{isAuthenticated:null!=e.authentication.user}}))((function(e){var t=e.isAuthenticated,a=e.component,n=Object(N.a)(e,["isAuthenticated","component"]);return r.a.createElement(h.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(h.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})),L=a(359),R=a(367),Q=a(360),D=a(370),z=a(371),M=a(358),V=a(75),P=a(361),B={type:"IS_FETCHING_QUESTIONS",response:!0},G=function(e){return{type:"LOAD_QUESTIONS_SUCCESS",response:e}},H=function(e){return{type:"ADD_QUESTIONS_SUCCESS",response:e}},W=function(e,t,a){return{type:"SET_QUESTION_ANSWER_SUCCESS",response:{id:e,userId:t,answer:a}}},J=function(e,t){return function(){var a=Object(f.a)(b.a.mark((function a(n,r){var o,c,i;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=r(),c=o.authentication.user.id,n(B),a.next=5,g({optionOneText:e,optionTwoText:t,author:c});case 5:i=a.sent,n(H(i));case 7:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},X=function(){return function(){var e=Object(f.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(B),e.next=3,new Promise((function(e,t){setTimeout((function(){return e(Object(E.a)({},j))}),1e3)}));case 3:a=e.sent,t(G(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Y=function(e,t){return function(){var a=Object(f.a)(b.a.mark((function a(n,r){var o,c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(B),o=r(),c=o.authentication.user.id,n(W(e,c,t)),a.abrupt("return",w({authedUser:c,qid:e,answer:t}));case 5:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},$=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={optionOne:"",optionTwo:"",enableValidation:!1},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.optionOne,r=a.optionTwo;""!==r&&""!==r?(e.setState({enableValidation:!1}),e.props.addQuestion(n,r).then((function(){return e.props.history.push("/")}))):e.setState({enableValidation:!0})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.enableValidation,n=t.optionOne,o=t.optionTwo,c=this.props.isFetching;return r.a.createElement(L.a,{className:"QuestionsPage"},r.a.createElement(R.a,{active:c},r.a.createElement(Q.a,null)),r.a.createElement(D.a,{basic:!0},r.a.createElement(C.a,{fluid:!0},r.a.createElement(C.a.Content,null,r.a.createElement(C.a.Header,null,"Create new question"),r.a.createElement(x.a,null,r.a.createElement(x.a.Field,{required:!0},r.a.createElement("div",null,"Complete the question"),r.a.createElement(z.a,{as:"h2"},"Would you rather...")),r.a.createElement(x.a.Field,{required:!0},r.a.createElement(M.a,{placeholder:"Enter option one text here",onChange:function(t,a){var n=a.value;return e.setState({optionOne:n})}}),a&&""===n&&r.a.createElement(V.a,{basic:!0,color:"red",pointing:!0},"Please enter a value")),r.a.createElement(P.a,{horizontal:!0},"Or"),r.a.createElement(x.a.Field,null,r.a.createElement(M.a,{placeholder:"Enter option two text here",onChange:function(t,a){var n=a.value;return e.setState({optionTwo:n})}}),a&&""===o&&r.a.createElement(V.a,{basic:!0,color:"red",pointing:!0},"Please enter a value")))),r.a.createElement(C.a.Content,{extra:!0,style:{textAlign:"right"}},r.a.createElement("span",{style:{float:"left",marginTop:"10px",fontSize:"8px"}},"Hey. psst. Yes you!. If you are fan of Re-zero. Type the twins ;)"),r.a.createElement(k.a,{onClick:this.handleSubmit},"Submit")))))}}]),a}(n.Component),K=Object(d.b)((function(e){var t=e.users.data,a=e.authentication.user,n=void 0===a?{}:a;return{users:t,isFetching:e.questions.isFetching,questions:e.questions.data,authenticatedUserId:n.id}}),(function(e){return{addQuestion:function(t,a){return e(J(t,a))}}}))($),Z=function(e){return Object.keys(e).map((function(t){return e[t]}))},ee=function(e){return Object.keys(e).length<=0},te=a(372),ae=a(190),ne=a(368),re=(a(330),function(e){switch(e){case 1:return"yellow";case 2:return"grey";case 3:return"brown";default:return"red"}}),oe=function(e){var t=e.item,a=e.place,n=t.avatarURL,o=t.score,c=Object.keys(t.answers||{}).length,i=t.questions?t.questions.length:0;return r.a.createElement(C.a,{className:"LeaderBoardCard",fluid:!0},a&&a<=3&&r.a.createElement(V.a,{as:"a",color:re(a),corner:!0,icon:"trophy"}),r.a.createElement(te.a,{columns:3},r.a.createElement(te.a.Row,{stretched:!0},r.a.createElement(te.a.Column,{width:3},r.a.createElement(ae.a,{src:n})),r.a.createElement(te.a.Column,{width:9},r.a.createElement(D.a,{basic:!0},r.a.createElement(z.a,{as:"h1"},t.name)),r.a.createElement(D.a,{basic:!0},r.a.createElement(z.a,{as:"h2"},"Answered Questions: ",c),r.a.createElement(z.a,{as:"h2"},"Created Questions: ",i))),r.a.createElement(te.a.Column,{width:3},r.a.createElement("div",{className:"score-statistics"},r.a.createElement(ne.a,{size:"huge"},r.a.createElement(ne.a.Value,null,o),r.a.createElement(ne.a.Label,null,"Score")))))))},ce=function(e){var t=0;return t+=Object.keys(e.answers||{}).length,t+=e.questions?e.questions.length:0},ie=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.users,t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Object(E.a)(Object(E.a)({},e),{},{score:ce(e)})})).sort((function(e,t){return t.score-e.score}))}(Z(void 0===e?{}:e));return r.a.createElement(L.a,null,r.a.createElement(D.a,null,r.a.createElement(C.a.Group,null,t&&t.map((function(e,t){return r.a.createElement(oe,{key:e.id,item:e,place:t+1})})))))}}]),a}(n.Component),se=Object(d.b)((function(e){return{users:e.users.data}}))(ie),ue=a(357),le=a(60),de=a(364),me=(a(331),a(362)),he=function(e,t){return Math.round(t/e*100)},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(e.toLowerCase()){case"rem":return"easter-egg-1";case"ram":return"easter-egg-2";default:return""}},be=function(e){var t=e.item,a=e.isSelected,n=e.isAnswered,o=e.totalVotes,c=e.onAnswerSelected,i=e.value,s=t.votes,u=t.text,l=s?s.length:0,d=n?void 0:function(){return c(i)};return r.a.createElement(C.a,{fluid:!0,onClick:d,className:"VoteCard ".concat(pe(u))},a&&r.a.createElement(V.a,{as:"a",color:"blue",ribbon:!0},"Your Vote"),r.a.createElement(C.a.Content,null,r.a.createElement(z.a,{as:"h1"},u),n&&r.a.createElement("div",{style:{width:"100%",padding:"0 3rem"}},r.a.createElement(me.a,{percent:he(o,l),progress:!0,indicating:!0}),r.a.createElement(z.a,{as:"h4"},"".concat(l," out of ").concat(o," votes")))))},fe=a(186),ve=a.n(fe),Ee={width:100,height:100,top:-50},Oe=function(e){var t,a=e.user,n=void 0===a?{}:a,o=e.question,c=void 0===o?{}:o,i=e.author,s=void 0===i?{}:i,u=e.fluid,l=e.isAnswerMode,d=e.onAnswerSelected,m=e.isLoading,h=void 0!==m&&m,p=e.onClickBack,b=e.onOpenQuestion,f=function(e){null==t&&d&&d(e)},v=c.optionOne,E=void 0===v?{}:v,O=c.optionTwo,j=void 0===O?{}:O;n.answers&&(t=n.answers[c.id]);var g=0;return E&&E.votes&&(g+=E.votes.length),j&&j.votes&&(g+=j.votes.length),r.a.createElement(C.a,{fluid:u,className:"QuestionCard ".concat(l?"answer-mode":"")},r.a.createElement(R.a,{active:h},r.a.createElement(Q.a,null)),r.a.createElement(C.a.Content,null,r.a.createElement("div",{className:"card-header"},p&&r.a.createElement(le.a,{name:"arrow left",onClick:p,className:"back-button"}),r.a.createElement(de.a,null,r.a.createElement(de.a.Event,null,r.a.createElement(de.a.Label,{image:s.avatarURL}),r.a.createElement(de.a.Content,null,r.a.createElement(de.a.Summary,null,r.a.createElement("div",{className:"author-name"},r.a.createElement("a",{href:"/"},s.name)," asks"),r.a.createElement(C.a.Meta,{className:"created-date"},r.a.createElement("span",{className:"date"},ve()(c.timestamp).fromNow())))))))),r.a.createElement(C.a.Content,null,r.a.createElement("div",{className:"question-title"},r.a.createElement(z.a,{as:"h2"},"Would you rather?")),l&&r.a.createElement("div",{className:"answers"},r.a.createElement(te.a,{columns:2,stackable:!0,textAlign:"center"},r.a.createElement(te.a.Row,{verticalAlign:"middle"},r.a.createElement(P.a,{vertical:!0},r.a.createElement(D.a,{circular:!0,inverted:!0,style:Ee},r.a.createElement(z.a,{as:"h3",inverted:!0},"OR"))),r.a.createElement(te.a.Column,{className:"answer"},r.a.createElement(be,{isSelected:"optionOne"===t,isAnswered:null!=t,item:E,totalVotes:g,onAnswerSelected:f,value:"optionOne"})),r.a.createElement(te.a.Column,{className:"answer"},r.a.createElement(be,{isSelected:"optionTwo"===t,isAnswered:null!=t,item:j,totalVotes:g,onAnswerSelected:f,value:"optionTwo"}))))),!l&&E&&r.a.createElement("span",null,E.text.substring(0,10),"...")),b&&r.a.createElement(C.a.Content,null,r.a.createElement(k.a,{fluid:!0,onClick:function(){b&&b(c.id)}},"View poll")))},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return!(!e.optionOne||!e.optionOne.votes.includes(t))||!(!e.optionTwo||!e.optionTwo.votes.includes(t))},ge=(a(334),[{key:"unanswered",value:"unanswered",text:"Unanswered"},{key:"answered",value:"answered",text:"Answered"},{key:"all",value:"all",text:"All"}]),we=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={filterBy:"unanswered"},e.handleOpenQuestion=function(t){return e.props.history.push("/questions/".concat(t))},e.handleFilterByChange=function(t,a){var n=a.value;return e.setState({filterBy:n})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state.filterBy,a=this.props,n=a.questions,o=a.users,c=a.authenticatedUserId,i=a.isFetching,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return t.timestamp-e.timestamp}))}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unanswered",a=arguments.length>2?arguments[2]:void 0;return e.filter((function(e){if("all"===t)return!0;var n=je(e,a);return!("answered"!==t||!n)||"unanswered"===t&&!n}))}(Z(n),t,c));return r.a.createElement(L.a,{className:"QuestionsPage"},r.a.createElement(R.a,{active:i},r.a.createElement(Q.a,null)),r.a.createElement(D.a,null,r.a.createElement(D.a,{basic:!0},r.a.createElement(x.a,{className:"toolbar"},r.a.createElement(x.a.Group,{widths:"equal"},r.a.createElement(x.a.Group,{inline:!0,className:"left-options"},r.a.createElement("label",null,"Show: "),ge.map((function(a){return r.a.createElement(x.a.Field,{key:a.key,control:ue.a,label:a.text,value:a.value,checked:t===a.value,onChange:e.handleFilterByChange})})))))),r.a.createElement(C.a.Group,{centered:!0},s&&s.map((function(t){return r.a.createElement(Oe,{key:t.id,question:t,author:o[t.author],onOpenQuestion:e.handleOpenQuestion})})))))}}]),a}(n.Component),Se=Object(d.b)((function(e){var t=e.users.data,a=e.authentication.user,n=void 0===a?{}:a;return{users:t,isFetching:e.questions.isFetching,questions:e.questions.data,authenticatedUserId:n.id}}),(function(e){return{addQuestion:function(t,a){return e(J(t,a))}}}))(we),ye=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){var t=e.props.match;if(null!=t){var a=t.id;e.setState({id:a})}},e.handleAnswerSelected=function(t){var a=e.getQuestionId();e.props.setAnswer(a,t)},e.handleBack=function(){e.props.history.push("/")},e.getQuestionId=function(){var t=e.props.match;if(null!=t)return t.params.id},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authenticatedUser,a=e.users,n=e.questions,o=e.isFetching,c=n[this.getQuestionId()]||{},i=t||{},s=a[c.author]||{},u=n&&!ee(n)&&ee(c);return r.a.createElement(L.a,null,r.a.createElement(D.a,{basic:!0},!u&&r.a.createElement(Oe,{fluid:!0,question:c,user:i,author:s,isAnswerMode:!0,onClickBack:this.handleBack,isLoading:o,onAnswerSelected:this.handleAnswerSelected}),u&&r.a.createElement(h.a,{to:"/404"})))}}]),a}(n.Component),Ce=Object(d.b)((function(e){var t=e.users.data,a=e.authentication.user,n=void 0===a?{}:a;return{isFetching:e.questions.isFetching||e.users.isFetching,users:t,questions:e.questions.data,authenticatedUser:t[n.id]}}),(function(e){return{setAnswer:function(t,a){return e(Y(t,a))}}}))(ye),xe=a(369),Te=function(e){var t=e.onClickItem,a=e.onClickLogout,n=e.active,o=e.user,c=void 0===o?{}:o,i=function(e){t&&t(e)};return r.a.createElement("div",null,r.a.createElement(xe.a,{pointing:!0,secondary:!0},r.a.createElement(xe.a.Item,{name:"Home",active:"/"===n,onClick:function(){return i("/")}}),r.a.createElement(xe.a.Item,{name:"New question",active:"/add"===n,onClick:function(){return i("/add")}}),r.a.createElement(xe.a.Item,{name:"Leader board",active:"/leaderboard"===n,onClick:function(){return i("/leaderboard")}}),r.a.createElement(xe.a.Menu,{position:"right"},r.a.createElement(T.a,{trigger:r.a.createElement("span",null,r.a.createElement(ae.a,{avatar:!0,src:c.avatarURL})," ",c.name),item:!0},r.a.createElement(T.a.Menu,null,r.a.createElement(T.a.Item,{onClick:function(){a&&a()}},"Logout"))))))},ke=function(){return r.a.createElement(L.a,null,r.a.createElement(D.a,{style:{textAlign:"center"}},r.a.createElement(z.a,{as:"h1"},"404"),r.a.createElement(z.a,{as:"h2"},"Question not found"),r.a.createElement("div",null,"Please go back to the ",r.a.createElement(m.b,{to:"/"},"Home page"))))},Ae=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChangeRoute=function(t){return e.props.history.push(t)},e.handleLogout=function(){e.props.logout()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.loadQuestions()}},{key:"render",value:function(){var e=this.props,t=e.location,a=void 0===t?{}:t,n=e.userAuthenticated;return r.a.createElement("div",null,r.a.createElement(Te,{active:a.pathname,onClickItem:this.handleChangeRoute,onClickLogout:this.handleLogout,user:n}),r.a.createElement(h.b,{path:"/",component:Se,exact:!0}),r.a.createElement(h.b,{path:"/add",component:K,exact:!0}),r.a.createElement(h.b,{path:"/leaderboard",component:se,exact:!0}),r.a.createElement(h.b,{path:"/questions/:id",component:Ce,exact:!0}),r.a.createElement(h.b,{path:"/404",component:ke,exact:!0}))}}]),a}(n.Component),Ue=Object(d.b)((function(e){var t=e.users.data;return{users:t,userAuthenticated:t[e.authentication.user.id]}}),(function(e){return{logout:function(){return e(_())},loadQuestions:function(){return e(X())}}}))(Ae),_e=Object(d.b)((function(e){return{isAuthenticated:null!=e.authentication.user}}))((function(e){var t=e.isAuthenticated,a=e.component,n=Object(N.a)(e,["isAuthenticated","component"]);return r.a.createElement(h.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(h.a,{to:"/"}):r.a.createElement(a,e)}}))})),qe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{basename:"/Would-you-rather"},r.a.createElement(h.d,null,r.a.createElement(_e,{exact:!0,path:"/login",component:I}),r.a.createElement(F,{path:"/",component:Ue}))))}}]),a}(n.Component),Ie=Object(d.b)(void 0,(function(e){return{loadUsers:function(){return e(y())}}}))(qe),Ne=a(50),Fe=a(189),Le=Object(Ne.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.type,n=t.response;switch(a){case"IS_FETCHING_USERS":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!0});case"LOAD_USERS_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!1});case"SET_QUESTION_ANSWER_FAILURE":var r=n.id,o=n.answer,c=n.userId,i=Object(E.a)(Object(E.a)({},e.data[c].answers),{},Object(v.a)({},r,o));return delete i[r],Object(E.a)(Object(E.a)({},e),{},{data:Object(E.a)(Object(E.a)({},e.data),{},Object(v.a)({},c,Object(E.a)(Object(E.a)({},e.data[c]),{},{answers:i}))),error:null,isFetching:!1});case"SET_QUESTION_ANSWER_SUCCESS":var s=n.id,u=n.answer,l=n.userId;return Object(E.a)(Object(E.a)({},e),{},{data:Object(E.a)(Object(E.a)({},e.data),{},Object(v.a)({},l,Object(E.a)(Object(E.a)({},e.data[l]),{},{answers:Object(E.a)(Object(E.a)({},e.data[l].answers),{},Object(v.a)({},s,u))}))),error:null,isFetching:!1});case"ADD_QUESTIONS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{data:Object(E.a)(Object(E.a)({},e.data),{},Object(v.a)({},n.author,Object(E.a)(Object(E.a)({},e.data[n.author]),{},{questions:e.data[n.author].questions.concat([n.id])}))),error:null,isFetching:!1});case"LOAD_USERS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{data:n,error:null,isFetching:!1});case"CLEAR_USER":return Object(E.a)({},e);default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.type,n=t.response;switch(a){case"IS_FETCHING_QUESTIONS":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!0});case"ADD_QUESTIONS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{data:Object(E.a)(Object(E.a)({},e.data),{},Object(v.a)({},n.id,n)),error:null,isFetching:!1});case"SET_QUESTION_ANSWER_SUCCESS":var r=n.id,o=n.userId,c=n.answer;return Object(E.a)(Object(E.a)({},e),{},{data:Object(E.a)(Object(E.a)({},e.data),{},Object(v.a)({},n.id,Object(E.a)(Object(E.a)({},e.data[r]),{},Object(v.a)({},c,Object(E.a)(Object(E.a)({},e.data[r][c]),{},{votes:e.data[r][c].votes.concat([o])}))))),error:null,isFetching:!1});case"SET_QUESTION_ANSWER_FAILURE":var i=n.id,s=n.userId,u=n.answer;return Object(E.a)(Object(E.a)({},e),{},{data:Object(E.a)(Object(E.a)({},e.data),{},Object(v.a)({},n.id,Object(E.a)(Object(E.a)({},e.data[i]),{},Object(v.a)({},u,Object(E.a)(Object(E.a)({},e.data[i][u]),{},{votes:e.data[i][u].votes.filter((function(e){return e!==s}))}))))),error:null,isFetching:!1});case"LOAD_QUESTIONS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{data:n,error:null,isFetching:!1});case"CLEAR_QUESTIONS":return Object(E.a)(Object(E.a)({},e),{},{active:void 0});default:return e}},authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:void 0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.error,n=t.type,r=t.response;switch(n){case"AUTHENTICATED":return Object(E.a)(Object(E.a)({},e),{},{error:a,user:r});case"LOG_OUT":return Object(E.a)(Object(E.a)({},e),{},{user:void 0});default:return e}}}),Re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||Ne.d,Qe=Object(Ne.e)(Le,Re(Object(Ne.a)(Fe.a)));a(346);c.a.render(r.a.createElement(d.a,{store:Qe},r.a.createElement(Ie,null)),document.getElementById("root"))}},[[202,1,2]]]);
//# sourceMappingURL=main.b6343292.chunk.js.map