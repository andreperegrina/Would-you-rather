(this["webpackJsonpwould-you-rather"]=this["webpackJsonpwould-you-rather"]||[]).push([[0],{202:function(e,t,a){e.exports=a(347)},214:function(e,t,a){},329:function(e,t,a){},331:function(e,t,a){},333:function(e,t,a){},345:function(e,t,a){},346:function(e,t,a){},347:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(43),c=a.n(o),i=a(20),s=(a(211),a(50)),u=a(169),l=a(19),d=a(7),m=Object(s.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.type,n=t.response;switch(a){case"IS_FETCHING_USERS":return Object(d.a)(Object(d.a)({},e),{},{isFetching:!0});case"LOAD_USERS_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{isFetching:!1});case"SET_QUESTION_ANSWER_FAILURE":var r=n.id,o=n.answer,c=n.userId,i=Object(d.a)(Object(d.a)({},e.data[c].answers),{},Object(l.a)({},r,o));return delete i[r],Object(d.a)(Object(d.a)({},e),{},{data:Object(d.a)(Object(d.a)({},e.data),{},Object(l.a)({},c,Object(d.a)(Object(d.a)({},e.data[c]),{},{answers:i}))),error:null,isFetching:!1});case"SET_QUESTION_ANSWER_SUCCESS":var s=n.id,u=n.answer,m=n.userId;return Object(d.a)(Object(d.a)({},e),{},{data:Object(d.a)(Object(d.a)({},e.data),{},Object(l.a)({},m,Object(d.a)(Object(d.a)({},e.data[m]),{},{answers:Object(d.a)(Object(d.a)({},e.data[m].answers),{},Object(l.a)({},s,u))}))),error:null,isFetching:!1});case"ADD_QUESTIONS_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{data:Object(d.a)(Object(d.a)({},e.data),{},Object(l.a)({},n.author,Object(d.a)(Object(d.a)({},e.data[n.author]),{},{questions:e.data[n.author].questions.concat([n.id])}))),error:null,isFetching:!1});case"LOAD_USERS_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{data:n,error:null,isFetching:!1});default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.type,n=t.response;switch(a){case"IS_FETCHING_QUESTIONS":return Object(d.a)(Object(d.a)({},e),{},{isFetching:!0});case"ADD_QUESTIONS_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{data:Object(d.a)(Object(d.a)({},e.data),{},Object(l.a)({},n.id,n)),error:null,isFetching:!1});case"SET_QUESTION_ANSWER_SUCCESS":var r=n.id,o=n.userId,c=n.answer;return Object(d.a)(Object(d.a)({},e),{},{data:Object(d.a)(Object(d.a)({},e.data),{},Object(l.a)({},n.id,Object(d.a)(Object(d.a)({},e.data[r]),{},Object(l.a)({},c,Object(d.a)(Object(d.a)({},e.data[r][c]),{},{votes:e.data[r][c].votes.concat([o])}))))),error:null,isFetching:!1});case"SET_QUESTION_ANSWER_FAILURE":var i=n.id,s=n.userId,u=n.answer;return Object(d.a)(Object(d.a)({},e),{},{data:Object(d.a)(Object(d.a)({},e.data),{},Object(l.a)({},n.id,Object(d.a)(Object(d.a)({},e.data[i]),{},Object(l.a)({},u,Object(d.a)(Object(d.a)({},e.data[i][u]),{},{votes:e.data[i][u].votes.filter((function(e){return e!==s}))}))))),error:null,isFetching:!1});case"LOAD_QUESTIONS_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{data:n,error:null,isFetching:!1});default:return e}},authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:void 0},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.type,n=t.response;switch(a){case"AUTHENTICATED":return Object(d.a)(Object(d.a)({},e),{},{user:n});case"LOG_OUT":return Object(d.a)(Object(d.a)({},e),{},{user:void 0});default:return e}}}),h=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||s.d,p=Object(s.e)(m,h(Object(s.a)(u.a))),b=a(27),f=a(28),v=a(30),E=a(29),O=a(49),j=a(18),g=a(96),w=Object(i.b)((function(e){return{isAuthenticated:null!=e.authentication.user}}))((function(e){var t=e.isAuthenticated,a=e.component,n=Object(g.a)(e,["isAuthenticated","component"]);return r.a.createElement(j.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(j.a,{to:"/"}):r.a.createElement(a,e)}}))})),y=Object(i.b)((function(e){return{isAuthenticated:null!=e.authentication.user}}))((function(e){var t=e.isAuthenticated,a=e.component,n=Object(g.a)(e,["isAuthenticated","component"]);return r.a.createElement(j.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(j.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})),S=a(366),C=a(363),x=a(365),T=a(349),k=a(26),A=a.n(k),q=a(45),U=function(e){return{type:"AUTHENTICATED",response:{id:e}}},_=function(e){return function(){var t=Object(q.a)(A.a.mark((function t(a){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(U(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(){return function(){var e=Object(q.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOG_OUT"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=(a(214),function(e){Object(v.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={userId:void 0},e.handleUserChange=function(t,a){return e.setState({userId:a.value})},e.handleClickSignIn=function(){var t=e.state.userId;if(e.props.users[t]){e.props.authenticate(t);var a=e.props.location;a.state&&a.state.from&&e.props.history.push(a.state.from)}},e}return Object(f.a)(a,[{key:"render",value:function(){var e=function(e){return Object.keys(e).map((function(t){return{key:e[t].id,value:e[t].id,text:e[t].name,image:{avatar:!0,src:e[t].avatarURL}}}))}(this.props.users);return r.a.createElement("div",{className:"Login"},r.a.createElement(S.a,null,r.a.createElement(S.a.Content,null,r.a.createElement(S.a.Header,null,"Welcome to the Would You Rather App"),r.a.createElement(S.a.Meta,null,r.a.createElement("span",{className:"date"},"Please sign in to continue"))),r.a.createElement(S.a.Content,null,r.a.createElement(C.a,null,r.a.createElement("label",null,"Select your username:"),r.a.createElement(x.a,{placeholder:"Select Friend",fluid:!0,selection:!0,options:e,onChange:this.handleUserChange}))),r.a.createElement(S.a.Content,{extra:!0},r.a.createElement(T.a,{fluid:!0,onClick:this.handleClickSignIn},"Sign in"))))}}]),a}(n.Component)),F=Object(i.b)((function(e){return{users:e.users.data}}),(function(e){return{authenticate:function(t){return e(_(t))}}}))(N),L={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://react.semantic-ui.com/images/avatar/large/jenny.jpg",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://react.semantic-ui.com/images/avatar/large/elliot.jpg",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://react.semantic-ui.com/images/avatar/large/daniel.jpg",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},Q={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function R(e){return new Promise((function(t,a){var n=e.author,r=function(e){var t=e.optionOneText,a=e.optionTwoText,n=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:n,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:a}}}(e);setTimeout((function(){Q=Object(d.a)(Object(d.a)({},Q),{},Object(l.a)({},r.id,r)),L=Object(d.a)(Object(d.a)({},L),{},Object(l.a)({},n,Object(d.a)(Object(d.a)({},L[n]),{},{questions:L[n].questions.concat([r.id])}))),t(r)}),1e3)}))}function z(e){var t=e.authedUser,a=e.qid,n=e.answer;return new Promise((function(e,r){setTimeout((function(){L=Object(d.a)(Object(d.a)({},L),{},Object(l.a)({},t,Object(d.a)(Object(d.a)({},L[t]),{},{answers:Object(d.a)(Object(d.a)({},L[t].answers),{},Object(l.a)({},a,n))}))),Q=Object(d.a)(Object(d.a)({},Q),{},Object(l.a)({},a,Object(d.a)(Object(d.a)({},Q[a]),{},Object(l.a)({},n,Object(d.a)(Object(d.a)({},Q[a][n]),{},{votes:Q[a][n].votes.concat([t])}))))),e()}),500)}))}var D={type:"IS_FETCHING_QUESTIONS",response:!0},M=function(e){return{type:"LOAD_QUESTIONS_SUCCESS",response:e}},V=function(e){return{type:"ADD_QUESTIONS_SUCCESS",response:e}},P=function(e,t,a){return{type:"SET_QUESTION_ANSWER_SUCCESS",response:{id:e,userId:t,answer:a}}},B=function(e,t){return function(){var a=Object(q.a)(A.a.mark((function a(n,r){var o,c,i;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=r(),c=o.authentication.user.id,n(D),a.next=5,R({optionOneText:e,optionTwoText:t,author:c});case 5:i=a.sent,n(V(i));case 7:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},G=function(){return function(){var e=Object(q.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(D),e.next=3,new Promise((function(e,t){setTimeout((function(){return e(Object(d.a)({},Q))}),1e3)}));case 3:a=e.sent,t(M(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H=function(e,t){return function(){var a=Object(q.a)(A.a.mark((function a(n,r){var o,c;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(D),o=r(),c=o.authentication.user.id,n(P(e,c,t)),a.abrupt("return",z({authedUser:c,qid:e,answer:t}));case 5:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},W=a(359),J=a(367),X=a(360),Y=a(370),$=a(371),K=a(358),Z=a(75),ee=a(361),te=function(e){Object(v.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={optionOne:"",optionTwo:"",enableValidation:!1},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.optionOne,r=a.optionTwo;""!==r&&""!==r?(e.setState({enableValidation:!1}),e.props.addQuestion(n,r).then((function(){return e.props.history.push("/")}))):e.setState({enableValidation:!0})},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.enableValidation,n=t.optionOne,o=t.optionTwo,c=this.props.isFetching;return r.a.createElement(W.a,{className:"QuestionsPage"},r.a.createElement(J.a,{active:c},r.a.createElement(X.a,null)),r.a.createElement(Y.a,{basic:!0},r.a.createElement(S.a,{fluid:!0},r.a.createElement(S.a.Content,null,r.a.createElement(S.a.Header,null,"Create new question"),r.a.createElement(C.a,null,r.a.createElement(C.a.Field,{required:!0},r.a.createElement("div",null,"Complete the question"),r.a.createElement($.a,{as:"h2"},"Would you rather...")),r.a.createElement(C.a.Field,{required:!0},r.a.createElement(K.a,{placeholder:"Enter option one text here",onChange:function(t,a){var n=a.value;return e.setState({optionOne:n})}}),a&&""===n&&r.a.createElement(Z.a,{basic:!0,color:"red",pointing:!0},"Please enter a value")),r.a.createElement(ee.a,{horizontal:!0},"Or"),r.a.createElement(C.a.Field,null,r.a.createElement(K.a,{placeholder:"Enter option two text here",onChange:function(t,a){var n=a.value;return e.setState({optionTwo:n})}}),a&&""===o&&r.a.createElement(Z.a,{basic:!0,color:"red",pointing:!0},"Please enter a value")))),r.a.createElement(S.a.Content,{extra:!0,style:{textAlign:"right"}},r.a.createElement("span",{style:{float:"left",marginTop:"10px",fontSize:"8px"}},"Hey. psst. Yes you!. If you are fan of Re-zero. Type the twins ;)"),r.a.createElement(T.a,{onClick:this.handleSubmit},"Submit")))))}}]),a}(n.Component),ae=Object(i.b)((function(e){var t=e.users.data,a=e.authentication.user,n=void 0===a?{}:a;return{users:t,isFetching:e.questions.isFetching,questions:e.questions.data,authenticatedUserId:n.id}}),(function(e){return{addQuestion:function(t,a){return e(B(t,a))}}}))(te),ne=a(372),re=a(190),oe=a(368),ce=(a(329),function(e){switch(e){case 1:return"yellow";case 2:return"grey";case 3:return"brown";default:return"red"}}),ie=function(e){var t=e.item,a=e.place,n=t.avatarURL,o=t.score,c=Object.keys(t.answers||{}).length,i=t.questions?t.questions.length:0;return r.a.createElement(S.a,{className:"LeaderBoardCard",fluid:!0},a&&a<=3&&r.a.createElement(Z.a,{as:"a",color:ce(a),corner:!0,icon:"trophy"}),r.a.createElement(ne.a,{columns:3},r.a.createElement(ne.a.Row,{stretched:!0},r.a.createElement(ne.a.Column,{width:3},r.a.createElement(re.a,{src:n})),r.a.createElement(ne.a.Column,{width:9},r.a.createElement(Y.a,{basic:!0},r.a.createElement($.a,{as:"h1"},t.name)),r.a.createElement(Y.a,{basic:!0},r.a.createElement($.a,{as:"h2"},"Answered Questions: ",c),r.a.createElement($.a,{as:"h2"},"Created Questions: ",i))),r.a.createElement(ne.a.Column,{width:3},r.a.createElement("div",{className:"score-statistics"},r.a.createElement(oe.a,{size:"huge"},r.a.createElement(oe.a.Value,null,o),r.a.createElement(oe.a.Label,null,"Score")))))))},se=function(e){return Object.keys(e).map((function(t){return e[t]}))},ue=function(e){return Object.keys(e).length<=0},le=function(e){var t=0;return t+=Object.keys(e.answers||{}).length,t+=e.questions?e.questions.length:0},de=function(e){Object(v.a)(a,e);var t=Object(E.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.users,t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{score:le(e)})})).sort((function(e,t){return t.score-e.score}))}(se(void 0===e?{}:e));return r.a.createElement(W.a,null,r.a.createElement(Y.a,null,r.a.createElement(S.a.Group,null,t&&t.map((function(e,t){return r.a.createElement(ie,{key:e.id,item:e,place:t+1})})))))}}]),a}(n.Component),me=Object(i.b)((function(e){return{users:e.users.data}}))(de),he=a(357),pe=a(60),be=a(364),fe=a(185),ve=a.n(fe),Ee=a(362),Oe=function(e,t){return Math.round(t/e*100)},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(e.toLowerCase()){case"rem":return"easter-egg-1";case"ram":return"easter-egg-2";default:return""}},ge=function(e){var t=e.item,a=e.isSelected,n=e.isAnswered,o=e.totalVotes,c=e.onAnswerSelected,i=e.value,s=t.votes,u=t.text,l=s?s.length:0,d=n?void 0:function(){return c(i)};return r.a.createElement(S.a,{fluid:!0,onClick:d,className:"VoteCard ".concat(je(u))},a&&r.a.createElement(Z.a,{as:"a",color:"blue",ribbon:!0},"Your Vote"),r.a.createElement(S.a.Content,null,r.a.createElement($.a,{as:"h1"},u),n&&r.a.createElement("div",{style:{width:"100%",padding:"0 3rem"}},r.a.createElement(Ee.a,{percent:Oe(o,l),progress:!0,indicating:!0}),r.a.createElement($.a,{as:"h4"},"".concat(l," out of ").concat(o," votes")))))},we=(a(331),{width:100,height:100,top:-50}),ye=function(e){var t,a=e.user,n=void 0===a?{}:a,o=e.question,c=void 0===o?{}:o,i=e.author,s=void 0===i?{}:i,u=e.fluid,l=e.isAnswerMode,d=e.onAnswerSelected,m=e.isLoading,h=void 0!==m&&m,p=e.onClickBack,b=e.onOpenQuestion,f=function(e){null==t&&d&&d(e)},v=c.optionOne,E=void 0===v?{}:v,O=c.optionTwo,j=void 0===O?{}:O;n.answers&&(t=n.answers[c.id]);var g=0;return E&&E.votes&&(g+=E.votes.length),j&&j.votes&&(g+=j.votes.length),r.a.createElement(S.a,{fluid:u,className:"QuestionCard ".concat(l?"answer-mode":"")},r.a.createElement(J.a,{active:h},r.a.createElement(X.a,null)),r.a.createElement(S.a.Content,null,r.a.createElement("div",{className:"card-header"},p&&r.a.createElement(pe.a,{name:"arrow left",onClick:p,className:"back-button"}),r.a.createElement(be.a,null,r.a.createElement(be.a.Event,null,r.a.createElement(be.a.Label,{image:s.avatarURL}),r.a.createElement(be.a.Content,null,r.a.createElement(be.a.Summary,null,r.a.createElement("div",{className:"author-name"},r.a.createElement("a",{href:"/"},s.name)," asks"),r.a.createElement(S.a.Meta,{className:"created-date"},r.a.createElement("span",{className:"date"},ve()(c.timestamp).fromNow())))))))),r.a.createElement(S.a.Content,null,r.a.createElement("div",{className:"question-title"},r.a.createElement($.a,{as:"h2"},"Would you rather?")),l&&r.a.createElement("div",{className:"answers"},r.a.createElement(ne.a,{columns:2,stackable:!0,textAlign:"center"},r.a.createElement(ne.a.Row,{verticalAlign:"middle"},r.a.createElement(ee.a,{vertical:!0},r.a.createElement(Y.a,{circular:!0,inverted:!0,style:we},r.a.createElement($.a,{as:"h3",inverted:!0},"OR"))),r.a.createElement(ne.a.Column,{className:"answer"},r.a.createElement(ge,{isSelected:"optionOne"===t,isAnswered:null!=t,item:E,totalVotes:g,onAnswerSelected:f,value:"optionOne"})),r.a.createElement(ne.a.Column,{className:"answer"},r.a.createElement(ge,{isSelected:"optionTwo"===t,isAnswered:null!=t,item:j,totalVotes:g,onAnswerSelected:f,value:"optionTwo"}))))),!l&&E&&r.a.createElement("span",null,E.text.substring(0,10),"...")),b&&r.a.createElement(S.a.Content,null,r.a.createElement(T.a,{fluid:!0,onClick:function(){b&&b(c.id)}},"View poll")))},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return!(!e.optionOne||!e.optionOne.votes.includes(t))||!(!e.optionTwo||!e.optionTwo.votes.includes(t))},Ce=(a(333),[{key:"unanswered",value:"unanswered",text:"Unanswered"},{key:"answered",value:"answered",text:"Answered"},{key:"all",value:"all",text:"All"}]),xe=function(e){Object(v.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={filterBy:"unanswered"},e.handleOpenQuestion=function(t){return e.props.history.push("/questions/".concat(t))},e.handleFilterByChange=function(t,a){var n=a.value;return e.setState({filterBy:n})},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state.filterBy,a=this.props,n=a.questions,o=a.users,c=a.authenticatedUserId,i=a.isFetching,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return t.timestamp-e.timestamp}))}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unanswered",a=arguments.length>2?arguments[2]:void 0;return e.filter((function(e){if("all"===t)return!0;var n=Se(e,a);return!("answered"!==t||!n)||"unanswered"===t&&!n}))}(se(n),t,c));return r.a.createElement(W.a,{className:"QuestionsPage"},r.a.createElement(J.a,{active:i},r.a.createElement(X.a,null)),r.a.createElement(Y.a,null,r.a.createElement(Y.a,{basic:!0},r.a.createElement(C.a,{className:"toolbar"},r.a.createElement(C.a.Group,{widths:"equal"},r.a.createElement(C.a.Group,{inline:!0,className:"left-options"},r.a.createElement("label",null,"Show: "),Ce.map((function(a){return r.a.createElement(C.a.Field,{key:a.key,control:he.a,label:a.text,value:a.value,checked:t===a.value,onChange:e.handleFilterByChange})})))))),r.a.createElement(S.a.Group,{centered:!0},s&&s.map((function(t){return r.a.createElement(ye,{key:t.id,question:t,author:o[t.author],onOpenQuestion:e.handleOpenQuestion})})))))}}]),a}(n.Component),Te=Object(i.b)((function(e){var t=e.users.data,a=e.authentication.user,n=void 0===a?{}:a;return{users:t,isFetching:e.questions.isFetching,questions:e.questions.data,authenticatedUserId:n.id}}),(function(e){return{addQuestion:function(t,a){return e(B(t,a))}}}))(xe),ke=function(e){Object(v.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleAnswerSelected=function(t){var a=e.getQuestionId();e.props.setAnswer(a,t)},e.handleBack=function(){e.props.history.push("/")},e.getQuestionId=function(){var t=e.props.match;if(null!=t)return t.params.id},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authenticatedUser,a=e.users,n=e.questions,o=e.isFetching,c=n[this.getQuestionId()]||{},i=t||{},s=a[c.author]||{},u=n&&!ue(n)&&ue(c);return r.a.createElement(W.a,null,r.a.createElement(Y.a,{basic:!0},!u&&r.a.createElement(ye,{fluid:!0,question:c,user:i,author:s,isAnswerMode:!0,onClickBack:this.handleBack,isLoading:o,onAnswerSelected:this.handleAnswerSelected}),u&&r.a.createElement(j.a,{to:"/404"})))}}]),a}(n.Component),Ae=Object(i.b)((function(e){var t=e.users.data,a=e.authentication.user,n=void 0===a?{}:a;return{isFetching:e.questions.isFetching||e.users.isFetching,users:t,questions:e.questions.data,authenticatedUser:t[n.id]}}),(function(e){return{setAnswer:function(t,a){return e(H(t,a))}}}))(ke),qe=function(){return r.a.createElement(W.a,null,r.a.createElement(Y.a,{style:{textAlign:"center"}},r.a.createElement($.a,{as:"h1"},"404"),r.a.createElement($.a,{as:"h2"},"Question not found"),r.a.createElement("div",null,"Please go back to the ",r.a.createElement(O.b,{to:"/"},"Home page"))))},Ue=a(369),_e=function(e){var t=e.onClickItem,a=e.onClickLogout,n=e.active,o=e.user,c=void 0===o?{}:o,i=function(e){t&&t(e)};return r.a.createElement("div",null,r.a.createElement(Ue.a,{pointing:!0,secondary:!0},r.a.createElement(Ue.a.Item,{name:"Home",active:"/"===n,onClick:function(){return i("/")}}),r.a.createElement(Ue.a.Item,{name:"New question",active:"/add"===n,onClick:function(){return i("/add")}}),r.a.createElement(Ue.a.Item,{name:"Leader board",active:"/leaderboard"===n,onClick:function(){return i("/leaderboard")}}),r.a.createElement(Ue.a.Menu,{position:"right"},r.a.createElement(x.a,{trigger:r.a.createElement("span",null,r.a.createElement(re.a,{avatar:!0,src:c.avatarURL})," ",c.name),item:!0},r.a.createElement(x.a.Menu,null,r.a.createElement(x.a.Item,{onClick:function(){a&&a()}},"Logout"))))))},Ie=function(e){Object(v.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChangeRoute=function(t){return e.props.history.push(t)},e.handleLogout=function(){return e.props.logout()},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.props.loadQuestions()}},{key:"render",value:function(){var e=this.props,t=e.location,a=void 0===t?{}:t,n=e.userAuthenticated;return r.a.createElement("div",null,r.a.createElement(_e,{active:a.pathname,onClickItem:this.handleChangeRoute,onClickLogout:this.handleLogout,user:n}),r.a.createElement(j.b,{path:"/",component:Te,exact:!0}),r.a.createElement(j.b,{path:"/add",component:ae,exact:!0}),r.a.createElement(j.b,{path:"/leaderboard",component:me,exact:!0}),r.a.createElement(j.b,{path:"/questions/:id",component:Ae,exact:!0}),r.a.createElement(j.b,{path:"/404",component:qe,exact:!0}))}}]),a}(n.Component),Ne=Object(i.b)((function(e){var t=e.users.data;return{users:t,userAuthenticated:t[e.authentication.user.id]}}),(function(e){return{logout:function(){return e(I())},loadQuestions:function(){return e(G())}}}))(Ie),Fe=function(e){return{type:"LOAD_USERS_SUCCESS",response:e}},Le=function(){return function(){var e=Object(q.a)(A.a.mark((function e(t){var a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"IS_FETCHING_USERS",response:!0}),e.next=3,new Promise((function(e,t){setTimeout((function(){return e(Object(d.a)({},L))}),1e3)}));case 3:a=e.sent,t(Fe(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Qe=(a(345),function(e){Object(v.a)(a,e);var t=Object(E.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"componentDidMount",value:function(){this.props.loadUsers()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(O.a,{basename:"/Would-you-rather"},r.a.createElement(j.d,null,r.a.createElement(w,{exact:!0,path:"/login",component:F}),r.a.createElement(y,{path:"/",component:Ne}))))}}]),a}(n.Component)),Re=Object(i.b)(void 0,(function(e){return{loadUsers:function(){return e(Le())}}}))(Qe);a(346);c.a.render(r.a.createElement(i.a,{store:p},r.a.createElement(Re,null)),document.getElementById("root"))}},[[202,1,2]]]);
//# sourceMappingURL=main.70609969.chunk.js.map